!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactLoadBar=e(require("react")):t.ReactLoadBar=e(t.React)}("undefined"!=typeof self?self:this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(e,n){e.exports=t},function(t,e){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(4);n(1);var s,c=function(t){return t>1&&t<100};!function(t){t[t.Visible=1]="Visible",t[t.Hidden=2]="Hidden"}(s||(s={}));var u=function(t){function e(e){var n=t.call(this,e)||this;return n.componentWillReceiveProps(e),n}return r(e,t),e.prototype.componentWillReceiveProps=function(t){var e=(this.state||{}).barState,n=void 0===e?s.Hidden:e,r=c(t.percent),o=t.percent||1,i=n;switch(n){case s.Hidden:r?i=s.Visible:o=1;break;case s.Visible:r||(o=Math.max(1,Math.min(100,t.percent)),i=s.Hidden);break;default:throw new Error("Unknown BarState: "+n)}o=+o.toFixed(2),this.state?this.setState({barState:i,prevBarState:n,percent:o}):this.state={barState:i,prevBarState:n,percent:o}},e.prototype.render=function(){var t=this.props,e=t.barStyle,n=t.onVisibilityChange,r=t.showSpinner,c=void 0===r||r,u=t.spinnerStyle,p=void 0===u?{}:u,l=this.state,f=l.percent,d=l.barState,h=l.prevBarState,v=d===s.Visible,y={opacity:v?1:0};return v&&h===s.Hidden&&(y.transition="none"),n&&(h===s.Hidden&&v?n(!0):h!==s.Visible||v||n(!1)),i.createElement("div",{className:"loadbar-wrap",style:y},c&&i.createElement(a.default,{style:p}),i.createElement("div",{className:"loadbar-progress",style:o({},e,{width:Math.max(1,Math.min(100,f))+"%"})}))},e}(i.Component);e.LoadBar=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.LoadBar=r.LoadBar;var o=n(5);e.SimulatedLoadBar=o.SimulatedLoadBar},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);n(1);var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return o.createElement("div",{className:"loadbar-spinner",style:this.props.style})},e}(o.Component);e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(2);n(1);var s={onPercentChange:function(){},timeMs:8e3,numTicks:16,isLoading:!0},c=function(t){function e(e){var n=t.call(this,e)||this;return n._timeout=0,n.init(e),n}return r(e,t),e.prototype.init=function(t){var e=this,n=o({},t),r=n.numTicks||s.numTicks,i=n.timeMs||s.timeMs,a=Math.max(20,i/r);r=i/a;var c={tickIntervalMs:a,step:95/r},u="boolean"==typeof n.isLoading?n.isLoading:s.isLoading;if(this.state?this.setState(c):this.state=o({},c,{percent:1,isLoading:u}),clearInterval(this._timeout),u&&a){var p=function(){var t=Math.min(95,e.state.percent+e.state.step);e.setState({percent:t,isLoading:u}),n.onPercentChange&&n.onPercentChange(t),95===t&&clearInterval(e._timeout)};this._timeout=window.setInterval(p,this.state.tickIntervalMs)}else!u&&this.state.isLoading&&(this.setState({percent:100,isLoading:u},function(){var t=function(){return e.setState({percent:1})};setTimeout(t,850)}),n.onPercentChange&&n.onPercentChange(100))},e.prototype.componentWillReceiveProps=function(t){this.init(t)},e.prototype.componentWillUnmount=function(){clearInterval(this._timeout)},e.prototype.render=function(){return i.createElement(a.LoadBar,o({},this.props,{percent:this.state.percent}))},e}(i.Component);e.SimulatedLoadBar=c}])});